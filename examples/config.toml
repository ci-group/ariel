# =========================
# Evolutionary Algorithm — config.toml
# =========================

[run]
# Choose which genotype profile to use for this run.
# One of: "integers", "tree", "lsystem", "cppn"
genotype = "lsystem"

task = "evolve_to_copy"

[task.evolve_to_copy]
target_robot_path = "small_robot_8.json"

# =========================
# Global EC settings (match EASettings fields)
# =========================
[ec]
quiet = false
is_maximisation = true
first_generation_id = 0
num_of_generations = 100
target_population_size = 100

# =========================
# Data config
# =========================
[data]
# Paths can be absolute or relative to the working directory
output_folder = "__data__"
db_file_name = "database.db"
# db_handling modes: "delete" | "reuse" | "migrate" (adjust to your app’s enum)
db_handling = "delete"

# =========================
# Genotype registry
# Each genotype declares:
# - allowed_mutations / allowed_crossovers: for validation/help
# - defaults: operators used if not overridden in [run]
# - (Optional) operator params (e.g., rates, alphas)
# =========================

[genotypes.tree]
allowed_mutations  = ["random_subtree_replacement"]
allowed_crossovers = ["koza_default", "normal"]

[genotypes.tree.defaults]
mutation = "random_subtree_replacement"
crossover = "koza_default"

[genotypes.tree.mutation.params]
max_subtree_depth = 2
branching_prob = 0.5

[genotypes.tree.crossover.params]
koza_internal_node_prob = 0.9

[genotypes.lsystem]
allowed_mutations   = ["mutate_one_point_lsystem"]
allowed_crossovers  = ["crossover_uniform_rules_lsystem", "crossover_uniform_genes_lsystem"]

[genotypes.lsystem.defaults]
mutation = "mutate_one_point_lsystem"
crossover = "crossover_uniform_rules_lsystem"

[genotypes.lsystem.mutation.params]
mutation_rate = 0.5

[genotypes.lsystem.crossover.params]
mutation_rate = 0.5